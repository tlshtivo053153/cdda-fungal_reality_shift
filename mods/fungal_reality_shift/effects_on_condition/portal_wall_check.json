[
  {
    "type": "effect_on_condition",
    "id": "EOC_PORTAL_WALL_CHECK",
    "eoc_type": "EVENT",
    "required_event": "avatar_moves",
    "global": true,
    "effect": [
      {
        "u_map_run_eocs": "EOC_PORTAL_MONSTER_SPAWN",
        "range": 20,
        "store_coordinates_in": { "context_val": "tile" },
        "condition": { "map_terrain_id": "t_wall_portal", "loc": { "context_val": "tile" } },
        "stop_at_first": true
      }
    ]
  }
]